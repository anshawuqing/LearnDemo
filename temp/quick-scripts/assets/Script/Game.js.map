{"version":3,"sources":["Game.js"],"names":["cc","Class","extends","Component","properties","starPrefab","default","type","Prefab","maxStartDuration","minStartDuration","ground","Node","player","onLoad","groundY","y","height","spawnNewStar","newStar","instantiate","node","addChild","setPosition","getNewStarPosition","getComponent","game","randX","randY","Math","random","jumbHeight","maxX","width","v2","start"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;;AAEV;AACCC,oBACA;AACEC,qBAAU,IADZ;AAEEC,kBAAKP,GAAGQ;AAFV,SAJS;AAQZ;AACGC,0BAAkB,CATT;AAUTC,0BAAkB,CAVT;AAWX;AACEC,gBACD;AACGL,qBAAQ,IADX;AAEGC,kBAAKP,GAAGY;AAFX,SAbU;;AAkBV;AACAC,gBACA;AACIP,qBAAS,IADb;AAEIC,kBAAMP,GAAGY;AAFb;AApBU,KAHP;;AA6BL;;AAEAE,YAAQ,kBACR;AACI;AACA,aAAKC,OAAL,GAAgB,KAAKJ,MAAL,CAAYK,CAAZ,GAAgB,KAAKL,MAAL,CAAYM,MAAZ,GAAmB,CAAnD;AACA;AACA,aAAKC,YAAL;AACH,KArCI;;AAuCNA,kBAAa,wBACb;AACI;AACA,YAAIC,UAAWnB,GAAGoB,WAAH,CAAe,KAAKf,UAApB,CAAf;AACA;AACA,aAAKgB,IAAL,CAAUC,QAAV,CAAmBH,OAAnB;AACA;AACCA,gBAAQI,WAAR,CAAoB,KAAKC,kBAAL,EAApB;AACAL,gBAAQM,YAAR,CAAqB,MAArB,EAA6BC,IAA7B,GAAoC,IAApC;AACJ,KAhDK;;AAkDN;AACCF,wBAAoB,8BACpB;AACI,YAAIG,QAAS,CAAb;AACC;AACA,YAAIC,QAAQ,KAAKb,OAAL,GAAec,KAAKC,MAAL,KAAc,KAAKjB,MAAL,CAAYY,YAAZ,CAAyB,QAAzB,EAAmCM,UAAhE,GAA2E,EAAvF;AACD;AACC,YAAIC,OAAQ,KAAKX,IAAL,CAAUY,KAAV,GAAgB,CAA5B;AACAN,gBAAQ,CAACE,KAAKC,MAAL,KAAgB,GAAjB,IAAsB,CAAtB,GAAyBE,IAAjC;AACA;AACA,eAAQhC,GAAGkC,EAAH,CAAMP,KAAN,EAAYC,KAAZ,CAAR;AACJ,KA7DI;;AA+DFO,SA/DE,mBA+DO,CAEX;AAjEI;;AAmEL;AAnEJ","file":"Game.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n    \r\n      // 这里引用 星星的资源\r\n       starPrefab:\r\n       {\r\n         default:  null,\r\n         type:cc.Prefab\r\n       },\r\n    //星星产生后消失时间的随机范围\r\n       maxStartDuration: 0,\r\n       minStartDuration: 0,\r\n     //地面节点，用于确定 星星生成的 高度 \r\n       ground:\r\n      {\r\n         default:null,\r\n         type:cc.Node\r\n      },\r\n\r\n      // 设置player  的属性\r\n      player:\r\n      {\r\n          default: null,\r\n          type: cc.Node\r\n      }\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad: function () \r\n    {\r\n        //获取 地平面的 Y轴 坐标\r\n        this.groundY =  this.ground.y + this.ground.height/2;\r\n        //生成一个新的星星\r\n        this.spawnNewStar();\r\n    },\r\n \r\n   spawnNewStar:function()\r\n   {\r\n       //使用给定的横模版在场景中生成一个新模板\r\n       var newStar  = cc.instantiate(this.starPrefab); \r\n       //将 新增的节点 增加到 Canvas 下面\r\n       this.node.addChild(newStar);\r\n       // 为 星星设置一个随机位置\r\n        newStar.setPosition(this.getNewStarPosition());     \r\n        newStar.getComponent('Star').game = this;\r\n   },\r\n\r\n   /// 得到卫星新的 组标点信息\r\n    getNewStarPosition: function ()\r\n    {\r\n        var randX  = 0;\r\n         // 根据地平面位置和主角跳跃高度,随机到一个星星的Y坐标\r\n         var randY = this.groundY + Math.random()*this.player.getComponent('player').jumbHeight+50;\r\n        // var maxX = thiS.node.width/2;\r\n         var maxX =  this.node.width/2;  \r\n         randX = (Math.random() - 0.5)*2 *maxX;\r\n         // 返回星星 坐标\r\n         return  cc.v2(randX,randY);\r\n    },\r\n\r\n       start () {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}